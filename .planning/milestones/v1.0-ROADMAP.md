# Milestone v1.0: Before the Fall

**Status:** ✅ SHIPPED 2026-01-28
**Phases:** 1-6
**Total Plans:** 19

## Overview

Web prototype validating that MTG color personalities plus minimal configuration create distinct, interesting character behavior. Two characters (Elling and Mother) live together for ~10 in-game days, ending with a crisis that reveals how skill gaps lead to tragedy.

## Phases

### Phase 1: Foundation

**Goal**: Game loop and character state run and are observable

**Depends on**: None (foundation phase)

**Plans**: 3 plans

- [x] 01-01-PLAN.md — Project scaffolding, types, MobX stores
- [x] 01-02-PLAN.md — Game loop and time display
- [x] 01-03-PLAN.md — Character UI and visual verification

**Requirements:**
- TIME-01: Day/time progression with ~10 in-game days
- TIME-02: Consistent game loop tick rate
- TIME-03: Player can pause/play time
- TIME-04: Visual day counter and time indicator
- CHAR-01: Each character has 2 MTG colors with intensity values (0.0-1.0)
- CHAR-05: Overskudd (capacity) meter gates what characters can/will do
- CHAR-06: Needs (energy, etc.) affect overskudd regeneration
- UI-01: Player can click characters to view stats/skills
- UI-04: Character state visible (overskudd meter, current activity)

**Completed:** 2026-01-27

---

### Phase 2: Autonomous Behavior

**Goal:** Characters act on their own based on personality

**Depends on**: Phase 1 (time loop running, character state exists, overskudd tracking)

**Plans:** 3 plans

- [x] 02-01-PLAN.md — Activity types, data definitions, Utility AI scoring
- [x] 02-02-PLAN.md — Character state machine and autonomous decision-making
- [x] 02-03-PLAN.md — UI components, movement animation, visual verification

**Requirements:**
- CHAR-02: Characters act autonomously based on color preferences
- CHAR-03: Color profile determines activity affinity (Blue prefers reading)
- CHAR-07: Characters with low overskudd refuse activities or retreat to comfort
- ACT-01: 6-8 activities available (reading, cooking, cleaning, etc.)
- ACT-02: Activities have color affinities that affect character preference

**Human Verification:** "Approved! This is very cool" — personality differences clearly observable.

**Completed:** 2026-01-27

---

### Phase 3: Activity Loop

**Goal:** Activities produce resources and train skills

**Depends on**: Phase 2 (autonomous behavior, activities exist, color preferences work)

**Plans:** 5 plans

- [x] 03-01-PLAN.md — Types, skills store, resource store (foundation)
- [x] 03-02-PLAN.md — Character skills integration, success/failure logic
- [x] 03-03-PLAN.md — Floating number feedback, resource bar UI
- [x] 03-04-PLAN.md — Player intervention modal, refusal messaging
- [x] 03-05-PLAN.md — Skill progress display, level-up celebration

**Requirements:**
- ACT-03: Activities produce resources (creativity, food, cleanliness)
- ACT-04: Skills improve through activity repetition
- ACT-05: Skill level affects activity success/output
- ACT-06: Characters refuse activities with personality-flavored responses
- ACT-07: Low-skill attempts can fail or produce reduced output
- UI-02: Player can assign activities to characters (intervention)
- UI-03: Visual feedback when activities complete

**Completed:** 2026-01-28

---

### Phase 4: Quest System

**Goal:** Player has direction through objectives

**Depends on**: Phase 3 (resource production tracked, activities complete successfully)

**Plans:** 3 plans

- [x] 04-01-PLAN.md — Quest types, data definitions, QuestStore
- [x] 04-02-PLAN.md — Quest panel UI with collapsible sidebar
- [x] 04-03-PLAN.md — Quest completion celebration and auto-chaining

**Requirements:**
- QUEST-01: Simple objectives tracking ("Produce 300 creativity")
- QUEST-02: Quest completion triggers next quest
- QUEST-03: Visual quest panel showing active objectives
- QUEST-04: Progress indicators for resource-gathering quests

**Completed:** 2026-01-28

---

### Phase 5: Crisis Sequence

**Goal:** Day 10 crisis reveals skill gap consequences

**Depends on**: Phase 4 (quests have guided skill training, time reaches day 10, skills tracked)

**Plans:** 4 plans

- [x] 05-01-PLAN.md — CrisisStore, types, and crisis data definitions
- [x] 05-02-PLAN.md — Shadow state and warning signs for characters
- [x] 05-03-PLAN.md — Crisis modal UI with action selection
- [x] 05-04-PLAN.md — Epilogue screen and game reset

**Requirements:**
- CHAR-04: Shadow state flips behavior when color health drops (Blue -> paralysis)
- CRISIS-01: Day 10 crisis trigger (Mother collapses)
- CRISIS-02: Player can attempt actions during crisis
- CRISIS-03: Phone skill determines emergency call success
- CRISIS-04: Elling's behavior reflects skill limitations during crisis

**Completed:** 2026-01-28

---

### Phase 6: Polish

**Goal:** Close tech debt items identified in milestone audit

**Depends on**: Phase 5 (all core functionality complete)

**Plans:** 1 plan

- [x] 06-01-PLAN.md — Fix first quest intro, collapse debug controls, generalize celebrations

**Tech Debt Addressed:**
- QuestIntroduction popup shows for first quest on initial load/reset
- Debug controls collapsed by default
- Celebration messages generalized by MTG color

**Completed:** 2026-01-28

---

## Milestone Summary

**Key Decisions:**

- Utility AI formula: 60% color + 40% needs (balance personality with survival)
- Fixed timestep at 60fps (deterministic simulation)
- Spring animations for all progress bars and celebrations
- Shadow state at overskudd < 30 (clean mode switch)
- Max 3 crisis attempts with -25% panic penalty (genuine difficulty)

**Issues Resolved:**

- Activity progress bar positioning (moved from thought bubble to sprite)
- Debug controls for testing autonomous behavior
- Quest progress reactivity with MobX computeds
- Crisis difficulty balancing for meaningful skill checks
- First quest introduction on game start/reset

**Technical Debt Carried Forward:**

None — all tech debt items addressed in Phase 6.

---

_For current project status, see .planning/ROADMAP.md (created for next milestone)_
