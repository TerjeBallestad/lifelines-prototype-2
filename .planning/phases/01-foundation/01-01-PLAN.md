---
phase: 01-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - vite.config.ts
  - tsconfig.json
  - index.html
  - src/index.css
  - src/main.tsx
  - src/App.tsx
  - src/types/game.ts
  - src/data/characters.ts
  - src/data/colors.ts
  - src/stores/RootStore.ts
  - src/stores/TimeStore.ts
  - src/stores/CharacterStore.ts
  - src/stores/InteractionStore.ts
autonomous: true

must_haves:
  truths:
    - "Project compiles and runs with npm run dev"
    - "MobX stores exist and hold game state"
    - "Character data for Elling and Mother is defined"
  artifacts:
    - path: "package.json"
      provides: "Project dependencies"
      contains: "mobx"
    - path: "src/stores/RootStore.ts"
      provides: "Root store pattern"
      exports: ["RootStore", "useGameStore"]
    - path: "src/stores/TimeStore.ts"
      provides: "Time state management"
      contains: "makeAutoObservable"
    - path: "src/stores/CharacterStore.ts"
      provides: "Character state management"
      contains: "makeAutoObservable"
    - path: "src/types/game.ts"
      provides: "TypeScript interfaces for game entities"
      contains: "MTGColorProfile"
  key_links:
    - from: "src/stores/RootStore.ts"
      to: "src/stores/TimeStore.ts"
      via: "instantiation"
      pattern: "new TimeStore"
    - from: "src/stores/RootStore.ts"
      to: "src/stores/CharacterStore.ts"
      via: "instantiation"
      pattern: "new CharacterStore"
---

<objective>
Set up project scaffolding with Vite + React 19 + MobX + Tailwind 4 + DaisyUI and create the core MobX stores (TimeStore, CharacterStore, InteractionStore) with TypeScript types.

Purpose: Establish the foundation that all subsequent plans build upon. Without stores and types, no UI or game loop can be implemented.

Output: Running React app with MobX stores containing time state (day, hour, minute, paused) and character state (Elling and Mother with MTG colors, needs, overskudd).
</objective>

<execution_context>
@/Users/godstemning/.claude/get-shit-done/workflows/execute-plan.md
@/Users/godstemning/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation/01-CONTEXT.md
@.planning/phases/01-foundation/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Scaffold Vite + React + Tailwind + DaisyUI project</name>
  <files>
    package.json
    vite.config.ts
    tsconfig.json
    index.html
    src/index.css
    src/main.tsx
    src/App.tsx
  </files>
  <action>
Create a new Vite project with React 19 and TypeScript. Install exact versions from RESEARCH.md:
- react@^19.2.0, react-dom@^19.2.0
- mobx@^6.15.0, mobx-react-lite@^4.1.0
- tailwindcss@^4.1.18, daisyui@^5.5.14
- motion@^12.27.0
- lucide-react (for icons)
- typescript@~5.9.3

Configure Tailwind 4 CSS-first style in src/index.css:
```css
@import "tailwindcss";
@plugin "daisyui" {
  themes: dark;
}
```

Set up index.html with `data-theme="dark"` on html element.

Create minimal App.tsx that renders a DaisyUI card saying "Before the Fall" to verify stack works.

Do NOT use create-vite template - manually create files for cleaner setup. Use `npm create vite@latest . -- --template react-ts` as base then modify.
  </action>
  <verify>
    npm run dev starts successfully
    Browser shows "Before the Fall" in DaisyUI card with dark theme
    No TypeScript errors in terminal
  </verify>
  <done>
    Running Vite dev server with React 19, Tailwind 4, DaisyUI dark theme, MobX installed
  </done>
</task>

<task type="auto">
  <name>Task 2: Create TypeScript types and character data</name>
  <files>
    src/types/game.ts
    src/data/colors.ts
    src/data/characters.ts
  </files>
  <action>
Create src/types/game.ts with interfaces:

```typescript
export type MTGColor = 'white' | 'blue' | 'black' | 'red' | 'green';

export interface ColorIntensity {
  color: MTGColor;
  intensity: number; // 0.0 - 1.0
}

export interface MTGColorProfile {
  primary: ColorIntensity;
  secondary?: ColorIntensity;
}

export interface Needs {
  energy: number;    // 0-100
  social: number;    // 0-100
  purpose: number;   // 0-100
}

export interface CharacterData {
  id: string;
  name: string;
  colors: MTGColorProfile;
  initialNeeds: Needs;
}
```

Create src/data/colors.ts with MTG color constants for UI:
```typescript
export const MTG_COLORS = {
  white: { bg: 'bg-amber-50', text: 'text-amber-900', label: 'W', name: 'White' },
  blue: { bg: 'bg-blue-600', text: 'text-white', label: 'U', name: 'Blue' },
  black: { bg: 'bg-gray-900', text: 'text-white', label: 'B', name: 'Black' },
  red: { bg: 'bg-red-600', text: 'text-white', label: 'R', name: 'Red' },
  green: { bg: 'bg-green-600', text: 'text-white', label: 'G', name: 'Green' },
} as const;
```

Create src/data/characters.ts with Elling and Mother:
- Elling: Blue 1.0 (exaggerated per research notes), Green 0.4
- Mother (Ella): White 0.7, Green 0.5
- Both start with moderate needs (energy: 80, social: 60, purpose: 50)
  </action>
  <verify>
    TypeScript compiles with no errors
    Import types in App.tsx and log character data to console
  </verify>
  <done>
    Types and character data defined, importable throughout project
  </done>
</task>

<task type="auto">
  <name>Task 3: Create MobX stores (RootStore, TimeStore, CharacterStore, InteractionStore)</name>
  <files>
    src/stores/RootStore.ts
    src/stores/TimeStore.ts
    src/stores/CharacterStore.ts
    src/stores/InteractionStore.ts
  </files>
  <action>
Create MobX stores following patterns from RESEARCH.md:

**TimeStore** (src/stores/TimeStore.ts):
- Observable state: day (starts 1), hour (starts 7), minute (starts 0), isPaused (starts false)
- gameSpeed: 10 (10 game-minutes per real-second)
- Computed: timeOfDay ('morning'|'afternoon'|'evening'|'night'), formattedTime (HH:MM)
- Actions: tick(deltaMs), togglePause()
- tick() advances time when not paused, handles hour/day rollover

**CharacterStore** (src/stores/CharacterStore.ts):
- Contains Character class with: id, name, colors, needs, currentActivity
- Computed overskudd: average of all needs (0-100)
- Action: updateNeeds(deltaMs) - decays needs over time
- Store holds Map of characters, initialized from data/characters.ts
- Actions: getCharacter(id), updateAll(deltaMs)

**InteractionStore** (src/stores/InteractionStore.ts):
- Observable: selectedCharacterId (string | null)
- Actions: selectCharacter(id), clearSelection()
- Computed: selectedCharacter (returns Character or null from CharacterStore)

**RootStore** (src/stores/RootStore.ts):
- Creates all stores, passes `this` to each for cross-store access
- tick(deltaMs) method calls timeStore.tick() then characterStore.updateAll()
- Export singleton instance and useGameStore() hook

Use makeAutoObservable for all stores. Follow MobX 6 patterns.
  </action>
  <verify>
    In App.tsx, import useGameStore, log store state
    Verify stores initialize correctly (day=1, hour=7, characters exist)
    No MobX warnings in console
  </verify>
  <done>
    MobX stores created with time, character, and interaction state
    Stores are interconnected via RootStore pattern
    Character overskudd computes from needs
  </done>
</task>

</tasks>

<verification>
1. `npm run dev` starts without errors
2. Browser shows dark-themed DaisyUI UI
3. Console logs show: TimeStore (day=1, hour=7), CharacterStore (Elling with Blue 1.0, Mother with White 0.7)
4. No TypeScript errors, no MobX warnings
</verification>

<success_criteria>
- Project scaffolding complete with all dependencies installed
- TypeScript types defined for MTG colors, characters, needs
- MobX stores initialized with correct starting state
- Character data for Elling and Mother loaded into CharacterStore
- Overskudd computed correctly as average of needs
- Ready for game loop implementation in next plan
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-01-SUMMARY.md`
</output>
